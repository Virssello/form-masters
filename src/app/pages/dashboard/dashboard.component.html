<div *ngIf="authenticatedUser$ | async as user">
  <div class="grid">
    <div class="col-12 lg:col-6 xl:col-3">
        <div class="card mb-0 flex flex-column justify-content-center mb-3">
            <div class="block text-500 font-medium mb-3 align-self-center">Calories</div>
            <div class="text-900 font-medium text-xl align-self-center mb-3">
              {{currentlyEatenMacronutrients.calories}} / {{userMacronutrients.calories}}
            </div>
            <div class="align-self-center">
              <p-progressBar [value]="(this.currentlyEatenMacronutrients.calories/this.userMacronutrients.calories)*100"
                             [showValue]="false">
              </p-progressBar>
            </div>
        </div>
      </div>

    <div class="col-12 lg:col-6 xl:col-3">
      <div class="card mb-0 flex flex-column justify-content-center mb-3">
            <div class="text-500 font-medium mb-3 align-self-center">Protein</div>
            <div class="text-900 font-medium text-xl align-self-center mb-3">
              {{currentlyEatenMacronutrients.protein}} / {{userMacronutrients.protein}}
            </div>
            <div class="align-self-center">
              <p-progressBar [value]="(this.currentlyEatenMacronutrients.protein/this.userMacronutrients.protein)*100"
                             [showValue]="false">
              </p-progressBar>
            </div>
      </div>
    </div>
    <div class="col-12 lg:col-6 xl:col-3">
      <div class="card mb-0 flex flex-column justify-content-center mb-3">
            <div class="block text-500 font-medium mb-3 align-self-center">Carbohydrates</div>
            <div class="text-900 font-medium text-xl align-self-center mb-3">
              {{currentlyEatenMacronutrients.carbohydrates}} / {{this.userMacronutrients.carbohydrates}}
            </div>
            <div class="align-self-center">
              <p-progressBar [value]="(this.currentlyEatenMacronutrients.carbohydrates/this.userMacronutrients.carbohydrates)*100"
                             [showValue]="false">
              </p-progressBar>
            </div>
        </div>
    </div>
    <div class="col-12 lg:col-6 xl:col-3">
      <div class="card mb-0 flex flex-column justify-content-center mb-3">
            <div class="block text-500 font-medium mb-3 align-self-center">Fat</div>
            <div class="text-900 font-medium text-xl align-self-center mb-3">{{currentlyEatenMacronutrients.fat}} / {{userMacronutrients.fat}}</div>
            <div class="align-self-center">
            <p-progressBar [value]="(this.currentlyEatenMacronutrients.fat/this.userMacronutrients.fat)*100"
                           [showValue]="false">
            </p-progressBar>
            </div>
        </div>
    </div>
    <div class="col-12">
      <div *ngIf="productsUser$ | async"
           class="card">
        <h5>Recent products you have eaten</h5>
        <p-table [value]="productsUser" [paginator]="true" [rows]="15" responsiveLayout="scroll">
          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="name">Name<p-sortIcon field="name"></p-sortIcon></th>
              <th pSortableColumn="calories">Calories<p-sortIcon field="calories"></p-sortIcon></th>
              <th pSortableColumn="protein">Protein<p-sortIcon field="protein"></p-sortIcon></th>
              <th pSortableColumn="carbohydrate">Carbohydrates<p-sortIcon field="carbohydrate"></p-sortIcon></th>
              <th pSortableColumn="fat">Fat<p-sortIcon field="fat"></p-sortIcon></th>
              <th style="width: 30px;"></th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-product>
            <tr>
              <td>{{product.product.name}}</td>
              <td>{{product.product.calories}}</td>
              <td>{{product.product.protein}}</td>
              <td>{{product.product.carbohydrate}}</td>
              <td>{{product.product.fat}}</td>
              <td style="width: 30px;">
                <button pButton pRipple type="button" icon="pi pi-trash" class="p-button p-component p-button-text p-button-icon-only"></button>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    <div class="col-12">
      <div *ngIf="userMeasurements$ | async"
           class="card">
        <h5>Weight Overview</h5>
        <p-chart type="line" [data]="chartData" [options]="chartOptions"></p-chart>
        </div>
      <div>
    </div>
  </div>
 </div>
</div>
</div>
